<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="s_banner_17_snippet" inherit_id="theme_prime.snippets" name="Banner - 17 Registry">
    <xpath expr="//div[@id='tp_snippet_banner']/div[@class='o_panel_body']" position="inside">
      <t t-snippet="theme_prime_image.s_banner_17_template"
         string="Banner - 17"
         t-thumbnail="/theme_prime_image/static/src/img/snippets/brands_thumb.png"
         data-snippet-option-class="BannerSliderOptions">
        <keywords>banner, brands, carrusel</keywords>
      </t>
    </xpath>
  </template>

  <!-- Plantilla del Banner 17 (Marcas destacadas) -->
  <template id="s_banner_17_template" name="Banner - 17 (Marcas destacadas)">
    <section class="s_banner_17 s_featured_brands py-5 o_snippet">
      <div class="container text-center">

        <!-- Franja superior con texto centrado -->
        <div class="franja mb-4">
          <hr class="linea"/>
          <h3 class="titulo">Marcas destacadas</h3>
        </div>

        <!-- Todas las marcas en una sola fila -->
        <div class="brands-row d-flex flex-wrap justify-content-center">
          <t t-set="brand_attr"
             t-value="request.env['product.attribute'].sudo().search([('name','=','Marca')], limit=1)"/>
          <t t-foreach="brand_attr.value_ids" t-as="brand" t-key="brand.id">
            <a t-att-href="'/shop?attrib=%s-%s' % (brand.attribute_id.id, brand.id)"
               class="brand-link mx-2 my-2">
              <span class="brand-name"><t t-esc="brand.name"/></span>
            </a>
          </t>
        </div>

        <!-- Línea inferior completa -->
        <hr class="linea mt-4"/>
      </div>

      <!-- Estilos embebidos -->
      <style>
        /* Línea superior e inferior */
        .s_featured_brands .linea {
          border: none;
          border-top: 2px solid #000;
          margin: 0;
        }
        .s_featured_brands .titulo {
          font-weight: bold;
          font-size: 1.5rem;
          margin: -18px auto 0 auto;
          background: #fff;
          display: inline-block;
          padding: 0 20px;
          position: relative;
          top: -22px; /* se superpone a la línea */
          z-index: 1;
        }

        /* Estilo de marcas */
        .s_featured_brands .brands-row {
          margin-top: 20px;
        }
        .s_featured_brands .brand-name {
          color: #888; /* gris por defecto */
          font-size: 1.2rem;
          font-weight: 600;
          transition: all 0.3s ease;
        }
        .s_featured_brands .brand-link:hover .brand-name {
          color: #28a745; /* verde al pasar el mouse */
          text-decoration: underline;
        }
      </style>
    </section>
  </template>
</odoo>
