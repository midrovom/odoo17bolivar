<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <!-- Registro del snippet -->
  <template id="s_banner_17_snippet" inherit_id="theme_prime.snippets" name="Banner - 17 Registry">
    <xpath expr="//div[@id='tp_snippet_banner']/div[@class='o_panel_body']" position="inside">
      <t t-snippet="theme_prime_image.s_banner_17_template"
        string="Banner - 17"
        t-thumbnail="/theme_prime_image/static/src/img/snippets/brands_thumb.png"
        data-snippet-option-class="BannerSliderOptions">
        <keywords>banner, brands, carrusel</keywords>
      </t>
    </xpath>
  </template>

  <!-- Template del snippet -->
  <template id="s_banner_17_template" name="Banner - 17 (Marcas destacadas)">
    <section class="s_banner_17 s_featured_brands o_snippet">
      <div class="container text-center">
        <div class="linea-con-texto mb-3">
          <span class="texto">Marcas destacadas</span>
        </div>
        
        <!-- Slider de marcas -->
        <div class="brands-slider owl-carousel">
          <t t-set="brand_attr"
            t-value="request.env['product.attribute'].sudo().search([('name','=','Marca')], limit=1)"/>
          <t t-foreach="brand_attr.value_ids" t-as="brand" t-key="brand.id">
            <div class="item">
              <a t-att-href="'/shop?attrib=%s-%s' % (brand.attribute_id.id, brand.id)"
                class="brand-link">
                <span class="brand-name"><t t-esc="brand.name"/></span>
              </a>
            </div>
          </t>
        </div>

        <hr class="linea mt-3"/>
      </div>

      <style>
        /* Línea con texto centrado */
        .s_featured_brands .linea-con-texto {
          border-top: 2px solid #000;
          text-align: center;
          position: relative;
          margin: 10px 0;
        }
        .s_featured_brands .linea-con-texto .texto {
          position: relative;
          top: -14px;
          background: #fff;
          padding: 0 20px;
          font-weight: bold;
          font-size: 1.3rem;
        }

        /* Línea inferior */
        .s_featured_brands .linea {
          border: none;
          border-top: 2px solid #000;
        }

        /* Estilo de marcas */
        .s_featured_brands .brands-slider .item {
          text-align: center;
          padding: 10px;
        }
        .s_featured_brands .brand-link {
          display: inline-block;
          width: 100%;
        }
        .s_featured_brands .brand-name {
          color: #555;
          font-size: 1.1rem;
          font-weight: 600;
          transition: all 0.3s ease;
        }
        .s_featured_brands .brand-link:hover .brand-name {
          color: #28a745;
          text-decoration: underline;
        }
      </style>
    </section>
  </template>
</odoo>
